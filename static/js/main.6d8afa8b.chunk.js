(this.webpackJsonpteamworksng=this.webpackJsonpteamworksng||[]).push([[0],{25:function(e,t,a){e.exports=a(43)},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),i=(a(30),a(1)),s=a(2),o=a(4),m=a(3),u=a(5),p=(a(31),a(32),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("h1",null," Powered by teamworksng v1. "),r.a.createElement("p",null,"Contact us: +23490089"))}}]),t}(r.a.Component)),h=(a(33),a(6)),d=a(10),f=a(8),E=a.n(f),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={headerRoute:"/api/v1/auth/signin",headerState:"Sign Out",prevSet:a.props.set},a.setHead=function(){"Sign Out"===a.state.headerState&&(E.a.remove("token"),a.setState({headerState:"Sign In"}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.set||this.setState({headerState:"Sign In"})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("span",{className:"icn-logo"}," ",r.a.createElement("i",{className:"material-icons"},"code")," "),r.a.createElement("p",{className:"headerText"},r.a.createElement(h.b,{to:"/api/v1/"},"TeamWorks Ng ")),r.a.createElement("ul",{className:"main-nav"},r.a.createElement("li",null," ",r.a.createElement(h.c,{to:"/api/v1/feeds"},"About")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/api/v1/articles"}," Contact Admin ")),r.a.createElement("li",null,r.a.createElement(h.c,{to:"/api/v1/gifs"},"Tour")),r.a.createElement("li",{onClick:this.setHead},r.a.createElement(h.c,{to:this.state.headerRoute},this.state.headerState))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.set!==t.prevSet?{prevSet:e.set,headerRoute:"/signout",headerState:"Sign Out"}:null}}]),t}(r.a.Component),v=Object(d.g)(b),g=(a(40),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={firstName:a.firstName.value,lastName:a.lastName.value,email:a.email.value,password:a.password.value,gender:a.gender.value,jobRole:a.jobRole.value,department:a.department.value,address:a.address.value};fetch("https://teamworksng.herokuapp.com/api/v1/auth/create-user",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+a.props.token},mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e);a.props.history.push("/admin")}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"create",onSubmit:this.handleSubmit},r.a.createElement("h3",null," Create New Employee Profile"),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",ref:function(t){return e.firstName=t}})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",ref:function(t){return e.lastName=t},required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",ref:function(t){return e.email=t},required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"password",name:"password",placeholder:"Temporary Password",ref:function(t){return e.password=t},required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("p",null,"Gender"),r.a.createElement("select",{name:"gender",ref:function(t){return e.gender=t}},r.a.createElement("option",{value:"Male"},"Male"),r.a.createElement("option",{value:"Female"},"Female"))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"jobRole",placeholder:"Job Role",ref:function(t){return e.jobRole=t},required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"department",placeholder:"Department",ref:function(t){return e.department=t},required:!0})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"address",placeholder:"Address",ref:function(t){return e.address=t},required:!0}))," ",r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(r.a.Component)),j=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"rule dashhead"},r.a.createElement("span",{className:"material-icons"},"dashboard")," Dashboard"),r.a.createElement("div",{className:"rule dashboard"},r.a.createElement("button",null," ",r.a.createElement("i",{className:"material-icons md-10"},"edit"),r.a.createElement("span",null," Edit Profile")," "),r.a.createElement("button",null," ",r.a.createElement(h.c,{to:"/admin/changePassword"},r.a.createElement("i",{className:"material-icons md-10"},"restore")," ",r.a.createElement("span",null," Change Password"))," "),r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/createUser")},r.a.createElement("i",{className:"material-icons md-10"},"how_to_reg")," ",r.a.createElement("span",null,"New Employee"))),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-10"},"delete")," ",r.a.createElement("span",null," Delete Articles")),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-10"},"delete")," ",r.a.createElement("span",null," Delete Gifs")," "),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-10"},"delete")," ",r.a.createElement("span",null," Delete Comments "))),r.a.createElement(d.b,{path:"".concat(this.props.match.url,"/createUser"),component:g}))}}]),t}(r.a.Component),y=Object(d.g)(j),O=(a(41),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).headerStateChange=function(e,t){a.props.headerState(e,t)},a.state={logged:"Sign-in",route:"/"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.headerStateChange(this.state.route,this.state.logged)}},{key:"render",value:function(){return r.a.createElement("div",{className:"homepage"},r.a.createElement(d.b,{path:"/api/v1",render:function(){return r.a.createElement(d.a,{to:"/api/v1/auth/signin"})}}))}}]),t}(r.a.Component)),k=Object(d.g)(O),N=(a(42),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmission=function(e){e.preventDefault();var t={email:a.email.value,password:a.password.value};fetch("https://teamworksng.herokuapp.com/api/v1/auth/signin",{method:"POST",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setToken(e.data.token,e.data.userId),a.props.setHeader(),a.admin.checked?a.props.history.push("/api/v1/admin"):a.emp.checked&&a.props.history.push("/api/v1/employee")})).catch((function(e){return console.error(e)}))},a.setToken=function(e,t){E.a.set("token",e),E.a.set("userId",t)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signinBody"},r.a.createElement("form",{onSubmit:this.handleSubmission},r.a.createElement("h2",null,"Sign In"),r.a.createElement("label",null,r.a.createElement("input",{type:"email",placeholder:"type your email....",ref:function(t){return e.email=t}})),r.a.createElement("label",null,r.a.createElement("input",{type:"password",placeholder:"type your password....",ref:function(t){return e.password=t}})),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"role",value:"admin",ref:function(t){return e.admin=t},required:!0})," Admin"),r.a.createElement("span",null,r.a.createElement("input",{type:"radio",name:"role",value:"employee",ref:function(t){return e.emp=t},required:!0})," Employee")),r.a.createElement("br",null),r.a.createElement("label",null,r.a.createElement("input",{type:"submit"}))))}}]),t}(r.a.Component)),w=Object(d.g)(N),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleSubmission=function(e){e.preventDefault();var t={title:a.title.value,article:a.article.value};fetch("https://teamworksng.herokuapp.com/api/v1/articles",{method:"POST",mode:"cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:"Bearer "+E.a.get("token")}}).then((function(e){return e.json()})).then((function(e){a.props.history.push("/api/v1/employee/articles/get")}))},a.state={article:"",articleClass:"hidden"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"articlePost"},r.a.createElement("form",{onSubmit:this.handleSubmission},r.a.createElement("h3",null,"Post an Article"),r.a.createElement("label",null,r.a.createElement("input",{type:"text",name:"title",placeholder:"Title",ref:function(t){return e.title=t}})),r.a.createElement("label",null,r.a.createElement("textarea",{name:"article",ref:function(t){return e.article=t},rows:"20",cols:"100",placeholder:"Article"})),r.a.createElement("br",null),r.a.createElement("button",{className:"button",type:"submit"}," Post Article")))}}]),t}(r.a.Component),C=Object(d.g)(S),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).showImage=function(e){if(e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);a.setState((function(e){return e.img=t,e.imgClass="seen",{img:e.img,imgClass:e.imgClass}}))}else e.target.files[0]||a.setState({img:"",imgClass:"hidden"})},a.state={img:"",imgClass:"hidden"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"gifPost"},r.a.createElement("p",null," Gif Title"),r.a.createElement("input",{type:"file",name:"gifPost",ref:function(t){return e.img=t},onChange:this.showImage,accept:"image/gif"}),r.a.createElement("br",null),r.a.createElement("img",{src:this.state.img,className:this.state.imgClass,alt:"gif upload"}),r.a.createElement("button",{className:"button"}," Upload "))}}]),t}(r.a.Component),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={flag:"",up:0,down:0,status:"",id:0},a.flag=function(){a.setState({flag:""===a.state.flag?"flag":""})},a.refresh=function(e){a.props.refresh(e)},a.delete=function(){var e=a.props.comment.commentid,t=a.props.articleId,n="https://teamworksng.herokuapp.com/api/v1/articles/".concat(t,"/commented/").concat(e);fetch(n,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+E.a.get("token")}}).then((function(e){return e.json()})).then((function(e){var t=a.props.comment.commentid;a.refresh(t)}))},a.countUp=function(){a.setState((function(e){return e.up+=1,{up:e.up}}))},a.countDown=function(){a.setState((function(e){return e.down+=1,{down:e.down}}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.articleId})}},{key:"render",value:function(){var e=Date(this.props.comment.createdoon);return r.a.createElement("div",{className:"commentDiv"},r.a.createElement("span",null,this.props.comment.authorid," ",this.props.comment.commentid," "),r.a.createElement("p",null,this.props.comment.comment," "),r.a.createElement("span",null,e),r.a.createElement("div",{className:"icons"},r.a.createElement("span",{onClick:this.countUp},r.a.createElement("i",{className:"fas fa-thumbs-up fa-1x"}),this.state.up," "),r.a.createElement("span",{onClick:this.countDown},r.a.createElement("i",{className:"fas fa-thumbs-down fa-1x"}),this.state.down," "),r.a.createElement("span",{onClick:this.flag},r.a.createElement("i",{className:"fas fa-flag fa-1x ".concat(this.state.flag)})," "),r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-comment fa-1x"})),r.a.createElement("span",{onClick:this.delete},r.a.createElement("i",{className:"fas fa-minus-circle fa-1x"})," ")))}}]),t}(r.a.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).countComment=function(){if(a.props.article.comments){console.log("seen");var e=a.props.article.comments.length;a.setState({comment:e})}},a.reveal=function(){a.setState({commentClass:"seen"===a.state.commentClass?"hidden":"seen"})},a.flag=function(){a.setState({flag:""===a.state.flag?"flag":""})},a.countUp=function(){a.setState((function(e){return e.up+=1,{up:e.up}}))},a.countDown=function(){a.setState((function(e){return e.down+=1,{down:e.down}}))},a.refresh=function(e){a.props.refresh()},a.delete=function(){var e=a.state.id,t="https://teamworksng.herokuapp.com/api/v1/articles/".concat(e);fetch(t,{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+E.a.get("token")}}).then((function(e){return e.json()})).then((function(e){a.refresh()}))},a.state={up:0,down:0,flag:"",commentClass:"hidden",id:0,article:a.props.article,refresh:!1},a.newArticle="",a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.article.id,article:this.props.article})}},{key:"render",value:function(){var e=this,t=this.state.article,a=0;t.comments&&(a=t.comments.length,this.commentArray=[],t.comments.filter((function(e,t){return t<=10})).forEach((function(a){return e.commentArray.push(r.a.createElement(x,{comment:a,key:a.commentid,articleId:t.id,refresh:e.refresh}))})));return r.a.createElement("div",{className:"article-container"},r.a.createElement("div",{className:"article"},r.a.createElement(h.b,{to:"".concat(this.props.match.path,"/").concat(t.id)},r.a.createElement("h2",null,t.title)),r.a.createElement("p",null,t.article,"  ",r.a.createElement("span",null," \xa0 ",t.id," ")," ",t.tag?r.a.createElement("span",null,"\xa0  Tags: ",t.tag):"")),r.a.createElement("div",{className:"icons"},r.a.createElement("span",{onClick:this.countUp},r.a.createElement("i",{className:"fas fa-thumbs-up fa-1x"}),this.state.up," "),r.a.createElement("span",{onClick:this.countDown},r.a.createElement("i",{className:"fas fa-thumbs-down fa-1x"}),this.state.down," "),r.a.createElement("span",{onClick:this.flag},r.a.createElement("i",{className:"fas fa-flag fa-1x ".concat(this.state.flag)})," "),r.a.createElement("span",{onClick:this.reveal},r.a.createElement("i",{className:"fas fa-comment fa-1x"}),a),r.a.createElement("span",{onClick:this.delete},r.a.createElement("i",{className:"fas fa-minus-circle fa-1x"})," ")),r.a.createElement("div",{className:this.state.commentClass+" comments"},r.a.createElement("ul",null,this.commentArray)))}}]),t}(r.a.Component),T=Object(d.g)(D),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).refresh=function(){a.getAllArticles()},a.getAllArticles=function(){var e=E.a.get("userId"),t="https://teamworksng.herokuapp.com/api/v1/articles/all/".concat(e);fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+E.a.get("token")}}).then((function(e){return e.json()})).then((function(e){a.setState((function(t){return t.article=e.data.articles,{article:t.article}}))})).catch((function(e){return console.error(e)}))},a.state={article:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllArticles()}},{key:"render",value:function(){var e=this,t=[];this.state.article&&this.state.article.filter((function(e,t){return t<=10})).forEach((function(a){return t.push(r.a.createElement(T,{article:a,key:a.id,refresh:e.refresh,linked:"true"}))}));return r.a.createElement("div",{className:"articles"},t)}}]),t}(r.a.Component),I=Object(d.g)(P),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={article:""},a.getAnArticles=function(){var e=a.props.match.params.id,t="https://teamworksng.herokuapp.com/api/v1/articles/".concat(e);fetch(t,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+E.a.get("token")}}).then((function(e){return e.json()})).then((function(e){a.setState((function(t){return t.article=e.data,{article:t.article}}))})).catch((function(e){return console.error(e)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAnArticles()}},{key:"render",value:function(){var e;return this.state.article&&(e=r.a.createElement(T,{article:this.state.article})),r.a.createElement("div",null," ",e," ")}}]),t}(r.a.Component),H=Object(d.g)(M),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={employee:"Oluwatosin Fetuga"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",{className:"rule dashhead"},r.a.createElement("span",{className:"material-icons"},"dashboard")," Dashboard"),r.a.createElement("div",{className:"employee-dashboard"},r.a.createElement("h3",null," Welcome ",this.state.employee," "),r.a.createElement("div",{className:"rule dashboard"},r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/profile")}," ",r.a.createElement("i",{className:"material-icons md-10"},"edit")," ",r.a.createElement("span",null,"Edit Profile"))),r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/gifs/get")}," ",r.a.createElement("i",{className:"material-icons md-10"},"photo"),r.a.createElement("span",null,"My Gifs"))," "),r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/articles/get")},r.a.createElement("i",{className:"material-icons md-10"}),r.a.createElement("span",null,"My Articles"))),r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/gifs")},r.a.createElement("i",{className:"material-icons md-10"},"image"),r.a.createElement("span",null,"Post a Gif"))),r.a.createElement("button",null,r.a.createElement(h.c,{to:"".concat(this.props.match.url,"/articles")},r.a.createElement("i",{className:"material-icons md-10"}),r.a.createElement("span",null,"Post an Article"))),r.a.createElement("button",null,r.a.createElement("i",{className:"material-icons md-10"}),r.a.createElement("span",null,"Get Feeds")))),r.a.createElement("div",{className:"display"})),r.a.createElement(d.b,{exact:!0,path:"".concat(this.props.match.path,"/gifs")}," ",r.a.createElement(A,null)," "),r.a.createElement(d.b,{exact:!0,path:"".concat(this.props.match.path,"/articles")}," ",r.a.createElement(C,null)),r.a.createElement(d.b,{exact:!0,path:"".concat(this.props.match.path,"/articles/get")}," ",r.a.createElement(I,null)),r.a.createElement(d.b,{path:"".concat(this.props.match.path,"/articles/get/:id"),render:function(){return r.a.createElement(H,null)}}))}}]),t}(r.a.Component),B=Object(d.g)(R),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).reset=function(){a.setState((function(e){return e.setHeader=!0,{setHeader:e.setHeader}}))},a.state={setHeader:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){E.a.get("token")&&this.setState({setHeader:!0})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(v,{set:this.state.setHeader}),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/api/v1",render:function(){return r.a.createElement(k,null)}}),r.a.createElement(d.b,{exact:!0,path:"/signout",render:function(){return r.a.createElement(d.a,{to:"/api/v1/auth/signin"})}}),r.a.createElement(d.b,{exact:!0,path:"/api/v1/auth/signin",render:function(){return r.a.createElement(w,{setHeader:e.reset})}}),r.a.createElement(d.b,{path:"/api/v1/admin",render:function(){return r.a.createElement(y,null)}}),r.a.createElement(d.b,{path:"/api/v1/employee",render:function(){return r.a.createElement(B,null)}})),r.a.createElement(p,null)))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.6d8afa8b.chunk.js.map